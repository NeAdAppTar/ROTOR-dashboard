<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="icon.png">
  <script src="checkauth.js"></script>
  <script src="usermenu.js"></script>

</head>
<body>
<div class="navbar">
  <div class="nav-links">
    <a href="employee_dashboard.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
    <a href="employees.html">–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</a>
    <a href="routes.html">–ú–∞—Ä—à—Ä—É—Ç—ã</a>
    <a href="vehicles.html">–°–ø–∏—Å–æ–∫ –ü–°</a>
    <a href="submit_route.html">–ú–∞—Ä—à—Ä—É—Ç–Ω—ã–π –ª–∏—Å—Ç</a>
    <a href="charter.html">–£—Å—Ç–∞–≤</a>
    <a href="plan.html">–ü–ª–∞–Ω</a>
    <a href="t.html">–¢–µ—Å—Ç—ã</a>
    <a href="binds.html">–ë–∏–Ω–¥—ã –∏ —Ç–∞–±–ª–∏—á–∫–∏</a>
  </div>

  <div class="user-menu" id="userMenu">
  <span class="user-name" id="userName">user</span>
  <div class="dropdown" id="dropdownMenu">
    <button id="logoutBtn">–í—ã–π—Ç–∏</button>
    <button id="themeBtn">üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
  </div>
</div>
</div>
  <main class="container">
    <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤</h1>
    <p>–û—Ü–µ–Ω–∫–∞ –∑–∞ —É—Å—Ç–∞–≤ –≤—ã—Å—Ç–∞–≤—è–ª—è–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É: "2" - 0-9 –±–∞–ª–ª–æ–≤, "3" - 10-13 –±–∞–ª–ª–æ–≤, "4" - 14-17 –±–∞–ª–ª–æ–≤, "5" - 18-20 –±–∞–ª–ª–æ–≤.</p>
    <p>–û—Ü–µ–Ω–∫–∞ –∑–∞ –ü–î–î –≤—ã—Å—Ç–∞–≤—è–ª—è–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É: "2" - 0-4 –±–∞–ª–ª–æ–≤, "3" - 5-6 –±–∞–ª–ª–æ–≤, "4" - 7-8 –±–∞–ª–ª–æ–≤, "5" - 9-10 –±–∞–ª–ª–æ–≤.</p>
    <p>–û—Ü–µ–Ω–∫–∞ –∑–∞ –ø—Ä–∞–∫—Ç–∏–∫—É –≤—ã—Å—Ç–∞–≤—è–ª–µ—Ç—Å—è –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞.</p>
    <p>–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ - —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–∏–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –≤—Å–µ—Ö —Ç—Ä–µ—Ö –æ—Ü–µ–Ω–æ–∫, –æ–∫—Ä—É–≥–ª–µ–Ω–Ω–æ–µ –ø–æ –ø—Ä–∞–≤–∏–ª—É –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ (–ü—Ä–∏–º–µ—Ä: (4+3+4)/3 = 3,33 ~ 3. –û—Ü–µ–Ω–∫–∞ "3")</p>
    <div id="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <table id="resultsTable" class="styled-table" style="display:none;">
      <thead>
        <tr>
          <th>ID</th>
          <th>–ò–º—è</th>
          <th>–ë–∞–ª–ª—ã</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </main>

  <script>
    async function loadResults() {
      try {
        const response = await fetch('https://rotor.pythonanywhere.com/get-tests');
        const data = await response.json();

        const table = document.getElementById('resultsTable');
        const tbody = table.querySelector('tbody');
        const loading = document.getElementById('loading');

        tbody.innerHTML = '';
        data.tests.forEach(test => {
          const [id, name, score] = test;
          const row = `<tr><td>${id}</td><td>${name}</td><td>${score}</td></tr>`;
          tbody.insertAdjacentHTML('beforeend', row);
        });

        loading.style.display = 'none';
        table.style.display = 'table';
      } catch (err) {
        document.getElementById('loading').textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö';
      }
    }

    loadResults();
  </script>
</body>
</html>
